spring:
  application:
    name: ai_demo
  main:
    allow-bean-definition-overriding: true

  ai:
    # Use the SDK prefix for EVERYTHING to avoid defaults
    openai-sdk:
      # Chat (Groq)
      api-key: ${GROQ_API_KEY}
      base-url: https://api.groq.com/openai/v1
      chat:
        options:
          model: llama-3.3-70b-versatile
      
      # Embedding (Voyage)
      embedding:
        api-key: ${VOYAGE_API_KEY}
        base-url: https://api.voyageai.com/v1
        options:
          model: voyage-3

    vectorstore:
      qdrant:
        host: ${QDRANT_HOST}
        port: 6334
        api-key: ${QDRANT_API_KEY}
        use-tls: true
        collection-name: ai_knowledge_base
        initialize-schema: false

# Keep these disabled to prevent the prompt_tokens crash
management:
  observations:
    enable:
      spring.ai.embedding: false
      spring.ai.vectorstore: false